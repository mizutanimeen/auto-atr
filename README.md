# Auto-ATR

## 概要
### バージョン v0.1.0
英語の課題として課せられる[ATR-CALL](https://atr.meijo-u.net/)を自動で解いてくれるプロジェクトです。

## 実行

### 必要設定
お手元の環境で`docker`を使えるようにしてください。

`.env`ファイルを`.sample_env`ファイルを参考に`docker-compose.yml`と同じディレクトリに作成してください。

### 実行コマンド
`docker-compose.yml`と同じディレクトリで以下のコマンドを実行してください。
```
docker-compose up -d --build
docker exec -it auto-atr bash
python main.py
```
その後、プロンプト上でクラス、コース、パートを選択してください。

例
```
0 : 2022中村　栄造_水･４限_Pre3-4
1 : 2022中村　栄造_水･４限_中級C-D
クラスを選択してください。
>> 1
0 : 中級C（テスト発音タイプ無し）(SG09)
1 : 中級D（テスト発音タイプ無し）(SG10)
コースを選択してください。
>>
```

### ブラウザで動作を確認
http://localhost:7900/ にアクセスし接続を押せばブラウザ上で動作を確認できます。

このポートはdocker-compose.yml内で定義されているので7900番が使用されている場合は変えてください。他のポートも同様です。

### 中止コマンド（長押し）
```
CTRL + C 
```
中止しても完了したレッスンは保存されます。

## 仕様
### ファイル名
ファイル名 = コース パート 問題形式 .csv
#### コース
コースの後ろについてる(SG00)の様なSG00をファイル名として使う。
- Pre3 -> SG17
#### パート
パート1~5をp1~5と表現
- パート2 -> p2
#### 問題形式
英日と日英は同じ問題だったため同じファイルを使う。
- 単語訳：英日 -> je
- 単語訳：日英 -> je 
- （聴）単語訳 -> li
- （聴）語句並べ替え -> ファイルなし
- 語句並べ替え -> ファイルなし
#### 例
中級C(SG09)パート２単語訳：英日 -> SG09p2je.csv
### 注意点
- ファイルはプログラム内で自動生成されます。
- 年や先生は区別していないので、もし問題が異なる場合はアップロードされている答えは使い物になりません。恐らく同一の問題だと思われます。

## 答えデータの共有
このプログラムは答えが存在しない場合、１回目間違えながら答えを制作し、２回目から正解していく設計になっています。なので制作した答えを共有すれば他の人がより便利に利用できるようになります。

共有方法としては差分がdata/*.csvのみのプルリクエストを送ってください。

答えが未完成でも前述した通り2回実行すれば完了するので答えの共有は重要ではありますが必須ではありません。

https://blog.mogmet.com/github-abecedarian-send-pull-request/

## 参考URL
- https://qiita.com/ha_ru/items/86dfaae4c92e4a7be13f
- https://pandas.pydata.org/docs/user_guide/index.html#user-guide
- https://blog.mogmet.com/github-abecedarian-send-pull-request/

## メモ書き
- 最終的には自分でweb開いて確認してね
- pythonの書き方わからん
- printの場所もう少し整理する
- issueで管理する
- 答えをcsvで管理しているのがあまりよくない。いちいちpushしないと共有できない。クライドDBとか使えばいいのかな
- 並べ替え問題が１００点しか取れない
- 答えがない場合、答えファイルを作成しユーザーに一度時間をかけて間違えながら一周する許可をとってテストを作るようにする？
- IDとPASSWORDをenvにかいてるけど書いてない場合、プロンプト上で必要になったときに入力できるようにする、また、フラッグでも渡せるようにする。
- クラスとかの選択もリアルタイムじゃなくてenvとフラッグで渡せるようにする
- １度に１つのパートの80点未満のレッスンのみ実行させる。これを自由度高くしたい
- 回答速度を選べる 1~5
- 正答率を選べる 80 ~ 100
- 実行回数を選べる。今だと初見の問題は80未満になるけど2回やれば80超えるから2回実行するように選べるように
- pre3_4とか先生によって問題違うか確認とれてない、答えはpre3_4,CDごとにわけてるから先生ごと、年ごとに違う場合,答えが使い物にならない
- 問題形式の判定の仕方が問題名だけど数列が書いてあったからそれ使った方がいいかも
- ファイル名周りコードに直書きなのどうにかしたい
- ファイル構成なんとかしろ
- たまにでてくる#スタンプ獲得も回避しないと。レッスン終了時にでてくるやつね。スタンプ獲得以外は１０秒待つ処理で対処可能だけどスタンプは閉じる押さないといけない
- 関数名とファイル名、整理する
- 現状報告のログ追加する





                





